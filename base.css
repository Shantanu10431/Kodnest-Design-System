/**
 * KodNest Premium Build System — Base Styles
 * Structure: [Top Bar] -> [Context Header] -> [Workspace + Panel] -> [Proof Footer]
 */

/* —— Reset & Global —— */
*,
*::before,
*::after {
  box-sizing: border-box;
}

body {
  margin: 0;
  background-color: var(--kn-background);
  color: var(--kn-text);
  font-family: var(--kn-font-sans);
  font-size: var(--kn-body-size);
  line-height: var(--kn-body-line);
  -webkit-font-smoothing: antialiased;
}

/* —— Typography —— */
h1,
h2,
h3,
h4 {
  font-family: var(--kn-font-serif);
  color: var(--kn-text);
  margin: 0 0 var(--kn-space-2) 0;
  font-weight: 700;
  line-height: var(--kn-heading-line);
}

h1 {
  font-size: var(--kn-heading1-size);
}

h2 {
  font-size: var(--kn-heading2-size);
}

h3 {
  font-size: var(--kn-heading3-size);
}

h4 {
  font-size: var(--kn-heading4-size);
}

p {
  margin: 0 0 var(--kn-space-2) 0;
  max-width: var(--kn-text-measure);
}

small {
  font-size: var(--kn-small-size);
  color: var(--kn-text-muted);
}

/* —— Global Layout —— */
.kn-app-layout {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

/* 1. Top Bar */
.kn-top-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--kn-space-2) var(--kn-space-4);
  background-color: var(--kn-background);
  border-bottom: 1px solid var(--kn-border);
  height: 64px;
}

.kn-top-bar__project {
  font-family: var(--kn-font-serif);
  font-weight: 700;
  font-size: 18px;
  color: var(--kn-text);
  text-decoration: none;
}

.kn-top-bar__status {
  background: #EAEAEA;
  color: var(--kn-text-muted);
  padding: 4px 12px;
  border-radius: 99px;
  font-size: 12px;
  font-weight: 600;
  font-family: var(--kn-font-sans);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* 2. Context Header */
.kn-context-header {
  padding: var(--kn-space-4) var(--kn-space-4) var(--kn-space-2);
  max-width: 1200px;
  margin: 0 auto;
  width: 100%;
}

.kn-context-header h1 {
  margin-bottom: var(--kn-space-1);
}

.kn-context-header p {
  color: var(--kn-text-muted);
  font-size: 18px;
}

/* 3. Main Workspace */
.kn-main {
  display: flex;
  flex: 1;
  gap: var(--kn-space-4);
  padding: 0 var(--kn-space-4) var(--kn-space-5);
  max-width: 1200px;
  margin: 0 auto;
  width: 100%;
}

.kn-workspace {
  flex: 0 0 70%;
  min-width: 0;
}

.kn-panel {
  flex: 0 0 calc(30% - var(--kn-space-4));
  min-width: 0;
}

/* 4. Proof Footer */
.kn-proof-footer {
  padding: var(--kn-space-3) var(--kn-space-4);
  border-top: 1px solid var(--kn-border);
  background: var(--kn-background);
  font-size: var(--kn-small-size);
  color: var(--kn-text-muted);
  display: flex;
  gap: var(--kn-space-3);
  justify-content: center;
}

/* —— Components —— */

/* Cards */
.kn-card {
  background: var(--kn-white);
  border: 1px solid var(--kn-border);
  border-radius: var(--kn-radius);
  padding: var(--kn-space-3);
  margin-bottom: var(--kn-space-3);
  box-shadow: none;
  /* Intentional flat design */
}

/* Buttons */
.kn-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 20px;
  font-family: var(--kn-font-sans);
  font-weight: 500;
  font-size: 14px;
  border-radius: var(--kn-radius);
  cursor: pointer;
  transition: all var(--kn-transition);
  text-decoration: none;
}

.kn-btn--primary {
  background-color: var(--kn-accent);
  color: white;
  border: 1px solid var(--kn-accent);
}

.kn-btn--primary:hover {
  background-color: #600000;
  /* Darker red */
  border-color: #600000;
}

.kn-btn--secondary {
  background-color: transparent;
  color: var(--kn-text);
  border: 1px solid var(--kn-border);
}

.kn-btn--secondary:hover {
  border-color: var(--kn-text);
  background-color: rgba(0, 0, 0, 0.02);
}

/* Inputs */
.kn-input {
  width: 100%;
  padding: 10px 12px;
  font-family: var(--kn-font-sans);
  font-size: 14px;
  border: 1px solid var(--kn-border);
  border-radius: var(--kn-radius);
  background: var(--kn-white);
  transition: border-color var(--kn-transition);
}

.kn-input:focus {
  outline: none;
  border-color: var(--kn-accent);
}

/* Route Page Wrapper (for centralized pages) */
.kn-route-page {
  padding: var(--kn-space-4) 0;
}

.kn-route-page__title {
  font-size: var(--kn-heading1-size);
  color: var(--kn-text);
}

.kn-route-page__subtext {
  font-size: 18px;
  color: var(--kn-text-muted);
}

/* Stack Utility */
.kn-stack>*+* {
  margin-top: var(--kn-space-2);
}

.kn-stack--3>*+* {
  margin-top: var(--kn-space-3);
}

/* Grid Utility */
.kn-layout-grid {
  display: grid;
  gap: var(--kn-space-3);
}

/* Navigation Links (in top bar) */
.kn-app-nav__links {
  display: flex;
  gap: var(--kn-space-3);
  list-style: none;
  padding: 0;
  margin: 0;
}

.kn-app-nav__links a {
  color: var(--kn-text-muted);
  text-decoration: none;
  font-size: 14px;
  font-weight: 500;
}

.kn-app-nav__links a:hover,
.kn-app-nav__links a.active {
  color: var(--kn-accent);
}